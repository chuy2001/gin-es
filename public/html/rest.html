<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="/public/html/jquery-3.2.1.min.js"></script>
    <script>
        $(document).ready(function(){
          $(".btn2").click(function(){
            $.post("/v1/user/signin",'{"email":"michael.chu@test.com","password":"123456"}',function(data,status){
              alert("数据：" + JSON.stringify(data) + "\n状态：" + status);
            });
          });
        });
        $(document).ready(function(){
          $(".btn1").click(function(){
            var data={
              "name": "michael",
              "email": "michael.chu@test.com", 
              "password": "123456"
          };
          var data=JSON.stringify(data);
          $.ajax({ 
            type: "POST",   
            url: "/v1/user/signup",
            data:data,
            dataType: "json",
            contentType:"application/json;charset=utf-8",
            success: function(data){
              if (data.id) { 
                      console.log(data.msg);
              } else {
                      console.log("出现错误：" + data.msg);
              }
            },
            error: function(jqXHR){     
              alert("发生错误：" + jqXHR.status + data);  
            },     
          });
        });
      });
        $(document).ready(function(){
            $(".btn3").click(function(){
              $.post("/v1/user/signout",'',function(data,status){
                alert("数据：" + JSON.stringify(data) + "\n状态：" + status);
              });
            });
          });
        $(document).ready(function(){
          $(".btn4").click(function(){
            $.post("v1/_msearch",
            '{"search_type":"query_then_fetch","ignore_unavailable":true,"index":["tele*2017.08.12"]}\
            {"size":0,"query":{"bool":{"filter":[{"range":{"@timestamp":{"gte":"1502290359589","lte":"1502545105","format":"epoch_millis"}}},{"query_string":{"analyze_wildcard":true,"query":"*"}}]}},"aggs":{"2":{"terms":{"field":"@timestamp","size":10,"order":{"_term":"asc"},"min_doc_count":0},"aggs":{"1":{"avg":{"field":"cpu.usage_idle"}},"3":{"avg":{"field":"cpu.usage_guest"}}}}}}',
            function(data,status){
              alert("数据：\n" + JSON.stringify(data) + "\n状态：" + status);
            });
          });
        });
    </script>
</head>
<body>

<button class="btn1">注册</button>
<p></p>
<button class="btn2">用户登录 </button>
<button class="btn3">登出</button>
<p></p>
<button class="btn4">查询es</button>

</body>
</html>
